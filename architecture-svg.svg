<svg viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="presentationGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#ff6b6b;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#ff4757;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="businessGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4834d4;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#3742fa;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="dataGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#00b894;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00cec9;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="persistenceGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#fdcb6e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f39c12;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>
  
  <!-- Title -->
  <text x="400" y="30" font-family="Arial, sans-serif" font-size="24" font-weight="bold" text-anchor="middle" fill="#2c3e50">
    Java Shopping Mall - Layered Architecture
  </text>
  
  <!-- Presentation Layer -->
  <g id="presentation-layer">
    <rect x="50" y="60" width="700" height="80" rx="10" fill="url(#presentationGradient)" filter="url(#shadow)"/>
    <text x="400" y="85" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
      Presentation Layer
    </text>
    <rect x="70" y="95" width="120" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="130" y="113" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">MainController</text>
    
    <rect x="210" y="95" width="120" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="270" y="113" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">UserController</text>
    
    <rect x="350" y="95" width="120" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="410" y="113" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">ProductController</text>
    
    <rect x="490" y="95" width="120" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="550" y="113" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">OrderController</text>
    
    <rect x="630" y="95" width="100" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="680" y="113" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">Console UI</text>
  </g>
  
  <!-- Business Logic Layer -->
  <g id="business-layer">
    <rect x="50" y="170" width="700" height="80" rx="10" fill="url(#businessGradient)" filter="url(#shadow)"/>
    <text x="400" y="195" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
      Business Logic Layer
    </text>
    <rect x="90" y="205" width="100" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="140" y="223" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">UserService</text>
    
    <rect x="210" y="205" width="110" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="265" y="223" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">ProductService</text>
    
    <rect x="340" y="205" width="100" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="390" y="223" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">OrderService</text>
    
    <rect x="460" y="205" width="100" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="510" y="223" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">CartService</text>
    
    <rect x="580" y="205" width="130" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="645" y="223" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">AuthenticationService</text>
  </g>
  
  <!-- Data Access Layer -->
  <g id="data-layer">
    <rect x="50" y="280" width="700" height="80" rx="10" fill="url(#dataGradient)" filter="url(#shadow)"/>
    <text x="400" y="305" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="white">
      Data Access Layer
    </text>
    <rect x="90" y="315" width="110" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="145" y="333" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">UserRepository</text>
    
    <rect x="220" y="315" width="120" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="280" y="333" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">ProductRepository</text>
    
    <rect x="360" y="315" width="110" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="415" y="333" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">OrderRepository</text>
    
    <rect x="490" y="315" width="100" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="540" y="333" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">CartRepository</text>
    
    <rect x="610" y="315" width="120" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="670" y="333" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">OrderItemRepository</text>
  </g>
  
  <!-- Persistence Layer -->
  <g id="persistence-layer">
    <rect x="50" y="390" width="700" height="80" rx="10" fill="url(#persistenceGradient)" filter="url(#shadow)"/>
    <text x="400" y="415" font-family="Arial, sans-serif" font-size="16" font-weight="bold" text-anchor="middle" fill="#2c3e50">
      Persistence Layer
    </text>
    <rect x="250" y="425" width="100" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="300" y="443" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">FileManager</text>
    
    <rect x="450" y="425" width="100" height="30" rx="5" fill="white" opacity="0.9"/>
    <text x="500" y="443" font-family="Arial, sans-serif" font-size="12" text-anchor="middle">Data Files (.dat)</text>
  </g>
  
  <!-- Cross-Cutting Concerns -->
  <g id="cross-cutting">
    <rect x="50" y="500" width="700" height="60" rx="10" fill="#a29bfe" opacity="0.7" filter="url(#shadow)"/>
    <text x="400" y="520" font-family="Arial, sans-serif" font-size="14" font-weight="bold" text-anchor="middle" fill="white">
      Cross-Cutting Concerns
    </text>
    <rect x="120" y="530" width="100" height="25" rx="5" fill="white" opacity="0.9"/>
    <text x="170" y="547" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">SessionManager</text>
    
    <rect x="270" y="530" width="100" height="25" rx="5" fill="white" opacity="0.9"/>
    <text x="320" y="547" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">InputValidator</text>
    
    <rect x="420" y="530" width="100" height="25" rx="5" fill="white" opacity="0.9"/>
    <text x="470" y="547" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">Constants</text>
    
    <rect x="570" y="530" width="110" height="25" rx="5" fill="white" opacity="0.9"/>
    <text x="625" y="547" font-family="Arial, sans-serif" font-size="11" text-anchor="middle">ExceptionHandler</text>
  </g>
  
  <!-- Arrows showing data flow -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <polygon points="0 0, 10 3, 0 6" fill="#34495e" />
    </marker>
  </defs>
  
  <line x1="400" y1="140" x2="400" y2="170" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="400" y1="250" x2="400" y2="280" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
  <line x1="400" y1="360" x2="400" y2="390" stroke="#34495e" stroke-width="2" marker-end="url(#arrowhead)"/>
</svg>